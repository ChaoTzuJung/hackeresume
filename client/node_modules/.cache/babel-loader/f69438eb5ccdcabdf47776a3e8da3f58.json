{"ast":null,"code":"import axios from 'axios';\nimport { PROFILE_LOADING, GET_PROFILE, CLEAR_CURRENT_PROFILE, GET_ERROR, SET_CURRENT_USER, GET_PROFILES } from './types';\nexport const getCurrentProfile = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios.get('/api/profile').then(res => dispatch({\n    type: GET_PROFILE,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_PROFILE,\n    payload: {}\n  }));\n};\nexport const setProfileLoading = () => ({\n  type: PROFILE_LOADING\n});\nexport const clearCurrentProfile = () => ({\n  type: CLEAR_CURRENT_PROFILE\n}); // withRouter: pass this.props.history to component and do redirect\n\nexport const createProfile = (profileData, history) => dispatch => {\n  axios.post('/api/profile', profileData).then(res => history.push('/dashboard')).catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n};\nexport const deleteAccount = () => dispatch => {\n  if (window.confirm('Are you sure? This can NOT be undone!')) {\n    axios.delete('/api/profile').then(res => dispatch({\n      // set auth user with nothing profile and as call SET_CURRENT_USER, user is empty and isAuthenticated is false\n      type: SET_CURRENT_USER,\n      payload: {}\n    })).catch(err => dispatch({\n      type: GET_ERROR,\n      payload: err.response.data\n    }));\n  }\n};\nexport const addExperience = (expData, history) => dispatch => {\n  axios.post('/api/profile/experience', expData).then(res => history.push('/dashboard')).catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n};\nexport const addEducation = (eduData, history) => dispatch => {\n  axios.post('/api/profile/education', eduData).then(res => history.push('/dashboard')).catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n};\nexport const deleteExperience = id => dispatch => {\n  axios.delete(\"/api/profile/experience/\".concat(id)).then(res => dispatch({\n    type: GET_PROFILE,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n};\nexport const deleteEducation = id => dispatch => {\n  axios.delete(\"/api/profile/education/\".concat(id)).then(res => dispatch({\n    type: GET_PROFILE,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n}; // Get All Profiles\n\nexport const getProfiles = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios.get('/api/profile/all').then(res => dispatch({\n    type: GET_PROFILES,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_PROFILES,\n    payload: null\n  }));\n}; // Get profile by handle\n\nexport const getProfileByHandle = handle => dispatch => {\n  dispatch(setProfileLoading());\n  axios.get(\"/api/profile/handle/\".concat(handle)).then(res => dispatch({\n    type: GET_PROFILE,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_PROFILE,\n    payload: null\n  }));\n};","map":{"version":3,"sources":["/Users/AlanChao/Documents/React Project/hackeresume/client/src/actions/profile.js"],"names":["axios","PROFILE_LOADING","GET_PROFILE","CLEAR_CURRENT_PROFILE","GET_ERROR","SET_CURRENT_USER","GET_PROFILES","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","err","clearCurrentProfile","createProfile","profileData","history","post","push","response","deleteAccount","window","confirm","delete","addExperience","expData","addEducation","eduData","deleteExperience","id","deleteEducation","getProfiles","getProfileByHandle","handle"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,EAA0BC,WAA1B,EAAuCC,qBAAvC,EAA8DC,SAA9D,EAAyEC,gBAAzE,EAA2FC,YAA3F,QAA+G,SAA/G;AAEA,OAAO,MAAMC,iBAAiB,GAAG,MAAMC,QAAQ,IAAI;AAC/CA,EAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAT,EAAAA,KAAK,CACAU,GADL,CACS,cADT,EAEKC,IAFL,CAEUC,GAAG,IAAIJ,QAAQ,CAAC;AAAEK,IAAAA,IAAI,EAAEX,WAAR;AAAqBY,IAAAA,OAAO,EAAEF,GAAG,CAACG;AAAlC,GAAD,CAFzB,EAGKC,KAHL,CAGWC,GAAG,IAAIT,QAAQ,CAAC;AAAEK,IAAAA,IAAI,EAAEX,WAAR;AAAqBY,IAAAA,OAAO,EAAE;AAA9B,GAAD,CAH1B;AAIH,CANM;AAQP,OAAO,MAAML,iBAAiB,GAAG,OAAO;AACpCI,EAAAA,IAAI,EAAEZ;AAD8B,CAAP,CAA1B;AAIP,OAAO,MAAMiB,mBAAmB,GAAG,OAAO;AACtCL,EAAAA,IAAI,EAAEV;AADgC,CAAP,CAA5B,C,CAIP;;AACA,OAAO,MAAMgB,aAAa,GAAG,CAACC,WAAD,EAAcC,OAAd,KAA0Bb,QAAQ,IAAI;AAC/DR,EAAAA,KAAK,CACAsB,IADL,CACU,cADV,EAC0BF,WAD1B,EAEKT,IAFL,CAEUC,GAAG,IAAIS,OAAO,CAACE,IAAR,CAAa,YAAb,CAFjB,EAGKP,KAHL,CAGWC,GAAG,IACNT,QAAQ,CAAC;AACLK,IAAAA,IAAI,EAAET,SADD;AAELU,IAAAA,OAAO,EAAEG,GAAG,CAACO,QAAJ,CAAaT;AAFjB,GAAD,CAJhB;AASH,CAVM;AAYP,OAAO,MAAMU,aAAa,GAAG,MAAOjB,QAAQ,IAAI;AAC5C,MAAGkB,MAAM,CAACC,OAAP,CAAe,uCAAf,CAAH,EAA4D;AACxD3B,IAAAA,KAAK,CACA4B,MADL,CACY,cADZ,EAEKjB,IAFL,CAEUC,GAAG,IAAIJ,QAAQ,CAAC;AAClB;AACAK,MAAAA,IAAI,EAAER,gBAFY;AAGlBS,MAAAA,OAAO,EAAE;AAHS,KAAD,CAFzB,EAOKE,KAPL,CAOWC,GAAG,IACNT,QAAQ,CAAC;AACLK,MAAAA,IAAI,EAAET,SADD;AAELU,MAAAA,OAAO,EAAEG,GAAG,CAACO,QAAJ,CAAaT;AAFjB,KAAD,CARhB;AAaH;AACJ,CAhBM;AAkBP,OAAO,MAAMc,aAAa,GAAG,CAACC,OAAD,EAAUT,OAAV,KAAsBb,QAAQ,IAAI;AAC3DR,EAAAA,KAAK,CACAsB,IADL,CACU,yBADV,EACqCQ,OADrC,EAEKnB,IAFL,CAEUC,GAAG,IAAIS,OAAO,CAACE,IAAR,CAAa,YAAb,CAFjB,EAGKP,KAHL,CAGWC,GAAG,IAAIT,QAAQ,CAAC;AACnBK,IAAAA,IAAI,EAAET,SADa;AAEnBU,IAAAA,OAAO,EAAEG,GAAG,CAACO,QAAJ,CAAaT;AAFH,GAAD,CAH1B;AAOH,CARM;AAUP,OAAO,MAAMgB,YAAY,GAAG,CAACC,OAAD,EAAUX,OAAV,KAAsBb,QAAQ,IAAI;AAC1DR,EAAAA,KAAK,CACAsB,IADL,CACU,wBADV,EACoCU,OADpC,EAEKrB,IAFL,CAEUC,GAAG,IAAIS,OAAO,CAACE,IAAR,CAAa,YAAb,CAFjB,EAGKP,KAHL,CAGWC,GAAG,IAAIT,QAAQ,CAAC;AACnBK,IAAAA,IAAI,EAAET,SADa;AAEnBU,IAAAA,OAAO,EAAEG,GAAG,CAACO,QAAJ,CAAaT;AAFH,GAAD,CAH1B;AAOH,CARM;AAUP,OAAO,MAAMkB,gBAAgB,GAAGC,EAAE,IAAI1B,QAAQ,IAAI;AAC9CR,EAAAA,KAAK,CACA4B,MADL,mCACuCM,EADvC,GAEKvB,IAFL,CAEUC,GAAG,IAAIJ,QAAQ,CAAC;AAClBK,IAAAA,IAAI,EAAEX,WADY;AAElBY,IAAAA,OAAO,EAAEF,GAAG,CAACG;AAFK,GAAD,CAFzB,EAMKC,KANL,CAMWC,GAAG,IAAIT,QAAQ,CAAC;AACnBK,IAAAA,IAAI,EAAET,SADa;AAEnBU,IAAAA,OAAO,EAAEG,GAAG,CAACO,QAAJ,CAAaT;AAFH,GAAD,CAN1B;AAUH,CAXM;AAaP,OAAO,MAAMoB,eAAe,GAAGD,EAAE,IAAI1B,QAAQ,IAAI;AAC7CR,EAAAA,KAAK,CACA4B,MADL,kCACsCM,EADtC,GAEKvB,IAFL,CAEUC,GAAG,IAAIJ,QAAQ,CAAC;AAClBK,IAAAA,IAAI,EAAEX,WADY;AAElBY,IAAAA,OAAO,EAAEF,GAAG,CAACG;AAFK,GAAD,CAFzB,EAMKC,KANL,CAMWC,GAAG,IAAIT,QAAQ,CAAC;AACnBK,IAAAA,IAAI,EAAET,SADa;AAEnBU,IAAAA,OAAO,EAAEG,GAAG,CAACO,QAAJ,CAAaT;AAFH,GAAD,CAN1B;AAUH,CAXM,C,CAaP;;AACA,OAAO,MAAMqB,WAAW,GAAG,MAAM5B,QAAQ,IAAI;AACzCA,EAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAT,EAAAA,KAAK,CACAU,GADL,CACS,kBADT,EAEKC,IAFL,CAEUC,GAAG,IAAIJ,QAAQ,CAAC;AAAEK,IAAAA,IAAI,EAAEP,YAAR;AAAsBQ,IAAAA,OAAO,EAAEF,GAAG,CAACG;AAAnC,GAAD,CAFzB,EAGKC,KAHL,CAGWC,GAAG,IAAIT,QAAQ,CAAC;AAAEK,IAAAA,IAAI,EAAEP,YAAR;AAAsBQ,IAAAA,OAAO,EAAE;AAA/B,GAAD,CAH1B;AAIH,CANM,C,CAQP;;AACA,OAAO,MAAMuB,kBAAkB,GAAGC,MAAM,IAAI9B,QAAQ,IAAI;AACpDA,EAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAT,EAAAA,KAAK,CACAU,GADL,+BACgC4B,MADhC,GAEK3B,IAFL,CAEUC,GAAG,IAAIJ,QAAQ,CAAC;AAAEK,IAAAA,IAAI,EAAEX,WAAR;AAAqBY,IAAAA,OAAO,EAAEF,GAAG,CAACG;AAAlC,GAAD,CAFzB,EAGKC,KAHL,CAGWC,GAAG,IAAIT,QAAQ,CAAC;AAAEK,IAAAA,IAAI,EAAEX,WAAR;AAAqBY,IAAAA,OAAO,EAAE;AAA9B,GAAD,CAH1B;AAIH,CANM","sourcesContent":["import axios from 'axios';\nimport { PROFILE_LOADING, GET_PROFILE, CLEAR_CURRENT_PROFILE, GET_ERROR, SET_CURRENT_USER, GET_PROFILES } from './types';\n\nexport const getCurrentProfile = () => dispatch => {\n    dispatch(setProfileLoading());\n    axios\n        .get('/api/profile')\n        .then(res => dispatch({ type: GET_PROFILE, payload: res.data }))\n        .catch(err => dispatch({ type: GET_PROFILE, payload: {} }))\n};\n\nexport const setProfileLoading = () => ({\n    type: PROFILE_LOADING,\n});\n\nexport const clearCurrentProfile = () => ({\n    type: CLEAR_CURRENT_PROFILE,\n});\n\n// withRouter: pass this.props.history to component and do redirect\nexport const createProfile = (profileData ,history) => dispatch => {\n    axios\n        .post('/api/profile', profileData)\n        .then(res => history.push('/dashboard'))\n        .catch(err => \n            dispatch({\n                type: GET_ERROR,\n                payload: err.response.data\n            })\n        );\n}\n\nexport const deleteAccount = () =>  dispatch => {\n    if(window.confirm('Are you sure? This can NOT be undone!')) {\n        axios\n            .delete('/api/profile')\n            .then(res => dispatch({\n                // set auth user with nothing profile and as call SET_CURRENT_USER, user is empty and isAuthenticated is false\n                type: SET_CURRENT_USER,\n                payload: {}\n            }))\n            .catch(err => \n                dispatch({\n                    type: GET_ERROR,\n                    payload: err.response.data\n                })\n            );\n    }\n}\n\nexport const addExperience = (expData, history) => dispatch => {\n    axios\n        .post('/api/profile/experience', expData)\n        .then(res => history.push('/dashboard'))\n        .catch(err => dispatch({\n            type: GET_ERROR,\n            payload: err.response.data\n        }))\n}\n\nexport const addEducation = (eduData, history) => dispatch => {\n    axios\n        .post('/api/profile/education', eduData)\n        .then(res => history.push('/dashboard'))\n        .catch(err => dispatch({\n            type: GET_ERROR,\n            payload: err.response.data\n        }))\n}\n\nexport const deleteExperience = id => dispatch => {\n    axios\n        .delete(`/api/profile/experience/${id}`)\n        .then(res => dispatch({\n            type: GET_PROFILE,\n            payload: res.data\n        }))\n        .catch(err => dispatch({\n            type: GET_ERROR,\n            payload: err.response.data\n        }))\n}\n\nexport const deleteEducation = id => dispatch => {\n    axios\n        .delete(`/api/profile/education/${id}`)\n        .then(res => dispatch({\n            type: GET_PROFILE,\n            payload: res.data\n        }))\n        .catch(err => dispatch({\n            type: GET_ERROR,\n            payload: err.response.data\n        }))\n}\n\n// Get All Profiles\nexport const getProfiles = () => dispatch => {\n    dispatch(setProfileLoading());\n    axios\n        .get('/api/profile/all')\n        .then(res => dispatch({ type: GET_PROFILES, payload: res.data }))\n        .catch(err => dispatch({ type: GET_PROFILES, payload: null }))\n}\n\n// Get profile by handle\nexport const getProfileByHandle = handle => dispatch => {\n    dispatch(setProfileLoading());\n    axios\n        .get(`/api/profile/handle/${handle}`)\n        .then(res => dispatch({ type: GET_PROFILE, payload: res.data }))\n        .catch(err => dispatch({ type: GET_PROFILE, payload: null }));\n};"]},"metadata":{},"sourceType":"module"}