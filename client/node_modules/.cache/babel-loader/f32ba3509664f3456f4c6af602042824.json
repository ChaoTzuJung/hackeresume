{"ast":null,"code":"import axios from 'axios';\nimport { ADD_POST, GET_ERROR, GET_POSTS, POST_LOADING, DELETE_POST, GET_POST, ADD_COMMENT } from './types'; // Add Post\n\nexport const addPost = postData => dispatch => {\n  axios.post('/api/posts', postData).then(res => dispatch({\n    type: ADD_POST,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n}; // Get All Posts\n\nexport const getPosts = () => dispatch => {\n  dispatch(setPostLoading());\n  axios.get('/api/posts').then(res => dispatch({\n    type: GET_POSTS,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_POSTS,\n    payload: null\n  }));\n}; // Get single Post\n\nexport const getPost = id => dispatch => {\n  dispatch(setPostLoading());\n  axios.get(\"/api/posts/\".concat(id)) // 重要: 會用網址的 :id 取相對post\n  .then(res => dispatch({\n    type: GET_POST,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_POST,\n    payload: null\n  }));\n}; // Set loading state\n\nexport const setPostLoading = () => {\n  return {\n    type: POST_LOADING\n  };\n}; // Delete Post\n\nexport const deletePost = id => dispatch => {\n  axios.delete(\"/api/posts/\".concat(id)).then(res => dispatch({\n    type: DELETE_POST,\n    payload: id\n  })) // 重要: 刪除是送id給reducer\n  .catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n}; // Add Like\n\nexport const addLike = id => dispatch => {\n  axios.post(\"/api/posts/like/\".concat(id)).then(res => dispatch(getPosts())) // 重要 getPosts 是更新 like資訊\n  .catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n}; // Remove Like\n\nexport const removeLike = id => dispatch => {\n  axios.post(\"/api/posts/unlike/\".concat(id)).then(res => dispatch(getPosts())) // 重要 getPosts 是更新 like資訊\n  .catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n}; // Add comment\n\nexport const addComment = (commentId, commentData) => dispatch => {\n  axios.post(\"/api/posts/comment/\".concat(commentId), commentData).then(res => dispatch({\n    type: ADD_COMMENT,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_ERROR,\n    payload: err.response.data\n  }));\n};","map":{"version":3,"sources":["/Users/alan2305/Documents/project/hackeresume/client/src/actions/post.js"],"names":["axios","ADD_POST","GET_ERROR","GET_POSTS","POST_LOADING","DELETE_POST","GET_POST","ADD_COMMENT","addPost","postData","dispatch","post","then","res","type","payload","data","catch","err","response","getPosts","setPostLoading","get","getPost","id","deletePost","delete","addLike","removeLike","addComment","commentId","commentData"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { ADD_POST, GET_ERROR, GET_POSTS, POST_LOADING, DELETE_POST, GET_POST, ADD_COMMENT } from './types';\n\n// Add Post\nexport const addPost = postData => dispatch => {\n    axios\n        .post('/api/posts', postData)\n        .then(res => dispatch({ type: ADD_POST, payload: res.data }))\n        .catch(err => dispatch({ type: GET_ERROR, payload: err.response.data }));\n};\n\n// Get All Posts\nexport const getPosts = () => dispatch => {\n    dispatch(setPostLoading());\n    axios\n        .get('/api/posts')\n        .then(res => dispatch({ type: GET_POSTS, payload: res.data }))\n        .catch(err => dispatch({ type: GET_POSTS, payload: null }));\n};\n\n// Get single Post\nexport const getPost = id => dispatch => {\n    dispatch(setPostLoading());\n    axios\n        .get(`/api/posts/${id}`) // 重要: 會用網址的 :id 取相對post\n        .then(res => dispatch({ type: GET_POST, payload: res.data }))\n        .catch(err => dispatch({ type: GET_POST, payload: null }));\n};\n\n// Set loading state\nexport const setPostLoading = () => {\n    return {\n        type: POST_LOADING\n    };\n};\n\n// Delete Post\nexport const deletePost = id => dispatch => {\n    axios\n        .delete(`/api/posts/${id}`)\n        .then(res => dispatch({ type: DELETE_POST, payload: id })) // 重要: 刪除是送id給reducer\n        .catch(err => dispatch({ type: GET_ERROR, payload: err.response.data}));\n};\n\n// Add Like\nexport const addLike = id => dispatch => {\n    axios\n        .post(`/api/posts/like/${id}`)\n        .then(res => dispatch(getPosts())) // 重要 getPosts 是更新 like資訊\n        .catch(err =>\n        dispatch({ type: GET_ERROR, payload: err.response.data }));\n};\n\n// Remove Like\nexport const removeLike = id => dispatch => {\n    axios\n        .post(`/api/posts/unlike/${id}`)\n        .then(res => dispatch(getPosts())) // 重要 getPosts 是更新 like資訊\n        .catch(err =>\n        dispatch({ type: GET_ERROR, payload: err.response.data }));\n};\n\n// Add comment\nexport const addComment = (commentId,commentData) => dispatch => {\n    axios\n        .post(`/api/posts/comment/${commentId}`, commentData)\n        .then(res => dispatch({ type: ADD_COMMENT, payload: res.data }))\n        .catch(err => dispatch({ type: GET_ERROR, payload: err.response.data }));\n};\n"]},"metadata":{},"sourceType":"module"}